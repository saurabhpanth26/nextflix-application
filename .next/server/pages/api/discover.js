"use strict";(()=>{var e={};e.id=826,e.ids=[826],e.modules={995:(e,t,a)=>{a.d(t,{q:()=>r});var n=function(e){return e.MOVIE="movie",e.TV="tv",e}({});let i={[n.MOVIE]:[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],[n.TV]:[{id:10759,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:10762,name:"Kids"},{id:9648,name:"Mystery"},{id:10763,name:"News"},{id:10764,name:"Reality"},{id:10765,name:"Sci-Fi & Fantasy"},{id:10766,name:"Soap"},{id:10767,name:"Talk"},{id:10768,name:"War & Politics"},{id:37,name:"Western"}]};function r(e,t){let a=[];return e.forEach(e=>{let n={id:e.id,title:e.name||e.title,rating:e.vote_average,overview:e.overview,poster:d(e.poster_path,"poster"),banner:d(e.backdrop_path,"original"),genre:function(e,t){let a=i[t].filter(t=>e.includes(t.id));return a.length>3?a.slice(0,3):a}(e.genre_ids,t)};a.push(n)}),a}function d(e,t){return`https://image.tmdb.org/t/p/${"poster"===t?"w500":"original"}${e}`}},1428:e=>{e.exports=import("axios")},2223:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d});var i=a(1428),r=e([i]);function d(){return i.default.create({baseURL:"https://api.themoviedb.org/3"})}i=(r.then?(await r)():r)[0],n()}catch(e){n(e)}})},3480:(e,t,a)=>{e.exports=a(5600)},5112:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{default:()=>o});var i=a(995),r=a(2223),d=e([r]);r=(d.then?(await d)():d)[0];let m=process.env.TMDB_KEY;async function o(e,t){let a=(0,r.A)(),{type:n,genre:d}=e.query;try{let e=await a.get(`/discover/${n}`,{params:{api_key:m,with_genres:d,watch_region:"US",with_networks:"213"}}),r=(0,i.q)(e.data.results,n);t.status(200).json({type:"Success",data:r})}catch(e){console.log(e.data),t.status(500).json({type:"Error",data:e.data})}}n()}catch(e){n(e)}})},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6435:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},7884:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{config:()=>c,default:()=>s,routeModule:()=>u});var i=a(3480),r=a(8667),d=a(6435),o=a(5112),m=e([o]);o=(m.then?(await m)():m)[0];let s=(0,d.M)(o,"default"),c=(0,d.M)(o,"config"),u=new i.PagesAPIRouteModule({definition:{kind:r.A.PAGES_API,page:"/api/discover",pathname:"/api/discover",bundlePath:"",filename:""},userland:o});n()}catch(e){n(e)}})},8667:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return a}});var a=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})}};var t=require("../../webpack-api-runtime.js");t.C(e);var a=t(t.s=7884);module.exports=a})();