"use strict";(()=>{var e={};e.id=562,e.ids=[562],e.modules={995:(e,a,n)=>{n.d(a,{q:()=>r});var t=function(e){return e.MOVIE="movie",e.TV="tv",e}({});let i={[t.MOVIE]:[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],[t.TV]:[{id:10759,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:10762,name:"Kids"},{id:9648,name:"Mystery"},{id:10763,name:"News"},{id:10764,name:"Reality"},{id:10765,name:"Sci-Fi & Fantasy"},{id:10766,name:"Soap"},{id:10767,name:"Talk"},{id:10768,name:"War & Politics"},{id:37,name:"Western"}]};function r(e,a){let n=[];return e.forEach(e=>{let t={id:e.id,title:e.name||e.title,rating:e.vote_average,overview:e.overview,poster:o(e.poster_path,"poster"),banner:o(e.backdrop_path,"original"),genre:function(e,a){let n=i[a].filter(a=>e.includes(a.id));return n.length>3?n.slice(0,3):n}(e.genre_ids,a)};n.push(t)}),n}function o(e,a){return`https://image.tmdb.org/t/p/${"poster"===a?"w500":"original"}${e}`}},1428:e=>{e.exports=import("axios")},2223:(e,a,n)=>{n.a(e,async(e,t)=>{try{n.d(a,{A:()=>o});var i=n(1428),r=e([i]);function o(){return i.default.create({baseURL:"https://api.themoviedb.org/3"})}i=(r.then?(await r)():r)[0],t()}catch(e){t(e)}})},3480:(e,a,n)=>{e.exports=n(5600)},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6435:(e,a)=>{Object.defineProperty(a,"M",{enumerable:!0,get:function(){return function e(a,n){return n in a?a[n]:"then"in a&&"function"==typeof a.then?a.then(a=>e(a,n)):"function"==typeof a&&"default"===n?a:void 0}}})},7518:(e,a,n)=>{n.a(e,async(e,t)=>{try{n.r(a),n.d(a,{config:()=>u,default:()=>s,routeModule:()=>c});var i=n(3480),r=n(8667),o=n(6435),d=n(8232),m=e([d]);d=(m.then?(await m)():m)[0];let s=(0,o.M)(d,"default"),u=(0,o.M)(d,"config"),c=new i.PagesAPIRouteModule({definition:{kind:r.A.PAGES_API,page:"/api/popular",pathname:"/api/popular",bundlePath:"",filename:""},userland:d});t()}catch(e){t(e)}})},8232:(e,a,n)=>{n.a(e,async(e,t)=>{try{n.r(a),n.d(a,{default:()=>d});var i=n(2223),r=n(995),o=e([i]);i=(o.then?(await o)():o)[0];let m=process.env.TMDB_KEY;async function d(e,a){let{type:n}=e.query;try{let e=await (0,i.A)().get(`/${n}/popular`,{params:{api_key:m,watch_region:"US",language:"en-US"}}),t=(0,r.q)(e.data.results,n);a.status(200).json({type:"Success",data:t})}catch(e){console.log(e?.response?.data||e?.message||"Unknown error"),a.status(500).json({type:"Error",data:e?.response?.data||e?.message||"Internal Server Error"})}}t()}catch(e){t(e)}})},8667:(e,a)=>{Object.defineProperty(a,"A",{enumerable:!0,get:function(){return n}});var n=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})}};var a=require("../../webpack-api-runtime.js");a.C(e);var n=a(a.s=7518);module.exports=n})();